고차함수, 콜백함수

고차함수
함수를 인자로 받거나, 함수를 반환하는 함수

addEventListener("이벤트", 콜백);

배열.map().filter().reduce()

setTimeout(콜백함수, 시간)

함수명 프로그래밍
함수로 데이터를 변환해 나가는 스타일

함수도 변수에 넣거나, 인자로 넘기거나, 반환할 수 있다.
순수함수
같은 값을 입력하면 항상 같은 출력을 내는것

자바스크립트는 싱글 스레드 언어이다.
싱글 스레드 : 한번에 하나의 일만 처리할 수 있다.

한 번에 한줄의 코드만 실행

오래걸리는 작업이 있다면 멈춘것처럼 느껴지게 된다.

실제 웹에서는
서버에서 데이터를 가져오는 작업
이미지/동영상 로딩
파일 읽기
타이머, 애니메이션같이 오래걸리는 작업이 많다

위와 같은 작업들은 비동기로 "잠깐 맡겨두고", 나머지 코드를 실행한 후
나중에 결과가 준비되면 이어서 처리하는 구조

콜백함수로 비동기 처리하기
나중에 불러달라고 넘겨주는 함수

setTimeout(콜백함수, 시간)
특정 시간 뒤에 콜백 함수가 실행이 된다.
특정 시간동안 다른 작업을 먼저 수행을 하게된다.

비동기작업이 여러 단계로 이어질 때 콜백만 쓰면 코드의 깊이가 너무 깊어지게 되고
가독성이 안좋아진다.

Promise
"지금은 없지만, 나중에 생길 값"에 대한 약속
지금은 결과를 모르는 작업인데, 나중에 성공하거나 실패하면 알려주는 객체

const p = new Promise(콜백함수)

promise의 상태
pending : 아직 결과가 안나온 상태
fulfilled : 성공해서 값이 생긴 상태
rejected : 실패해서 에러가 생긴 상태

promise가 호출하는 함수는 resolve와 reject를 매개변수로 받는다.
자바스크립트 엔진이 자동으로 resolve함수와 reject함수를 만들어서 매개변수로 넣어준다.

resolve() : promise의 상태를 fulfilled로 만든다.

reject() : promise의 상태를 rejected상태로 만든다.

한 번 resolve 또는 reject가 호출되어 상태가 결정된다면
그 이후에는 아무리 다시 호출해도 무시된다.

const p = new Promise((resolve, reject) => {
	resolve("첫 번째 성공");
	
	resolve("두 번재 성공");
	reject("실패");
});


.then() : 성공한 경우 실행되는 함수를 등록하는 메서드

promise + then을 사용하는것은 좋지만, 여전히 콜백의 느낌이 남아있다.
그래서 나온 문법이 async/awit

async/await
Promise 기반의 비동기 코드를 동기 코드처럼 읽기 쉽게 만들어주는 문법


try ,catch를 이용한 에러 처리 기법

에러가 나도 프로그램이 바로 죽지 않게 잡아서 처리하는 문법
try{
   //1) 에러가 발생할 수 있는 코드
} catch(error) {
   //2) 에러가 발생했을 때 실행되는 코드
}

try 블록에서 에러가 나면 나머지 코드는 건너뛰고, 바로 catch로 점프한다.
catch(error)의 매개변수로 에러 정보 객체가 들어오게 된다.

fetch()
브라우저에서 제공하는 비동기 HTTP 요청 함수
서버에 데이터를 요청하거나, 서버로 데이터를 보내는 작업을 할 때 사용

fetch()의 특징
1. Promise기반이다.
fetch()는 호출 즉시 Promise객체를 반환한다.
그렇기 때문에 .then(), .catch()를 사용하거나, async/await으로 처리할 수 있다.

fetch(서버의 주소,옵션)
아무런 옵션 없이 서버를 호출하면 자동으로 GET요청이 된다.

HTTP 메서드
클라이언트(사용자)가 서버(제공자)에게 원하는 행동을 정확하게 전달하는 명령어
GET - 데이터를 조회
POST - 서버측에 데이터를 추가 (내가 추가하고 싶은 데이터를 같이 보낸다)
PUT - 서버에 있는 데이터좀 수정해줘
DELETE - 서버에 있는 데이터좀 삭제해줘

네트워크 오류만 catch된다.
HTTP 상태코드 에러(404, 500)가 발생해도 reject되지 않는다.
오직 네트워크가 끊겼을 때만 catch된다.

http 상태코드
요청이 얼마나 잘 처리됐는지 서버가 숫자로 알려주는 결과표

200 -> 통신 이 잘 됐음

400 -> 요청을 잘못 보냈다.
401 -> 누구인지 증명이 안됐다.
403 -> 권한이 없음
404 -> 요청 경로가 잘못됌

500 -> 서버에서 발생한 예기치못한 오류
502 -> 서버가 다른 서버에 요청을 보냈는데, 중간에서 문제가 발생한 경우
503 -> 서버가 과부하, 점검, 일시 중단 상태일 때(나중에 다시 시도하삼)

JSON(JavaScript Object Notation)
자바스크립트 객체 표기법을 기반으로 만든 데이터 교환 형식
하지만 언어에 상관없이 쓸 수 있는 형식이라서,
자바,파이썬,스프링,노드, 리액트 등 모두 JSON을 이해한다.

key는 무조건 문자열, 쌍따옴표 안에 넣어야 한다.
{"name":"홍길동","age":25}

value에 올 수 있는 타입
문자열 -> "text"
숫자 -> 10, 3.14
논리형 -> true, false
null -> null
객체 -> {...}
배열 -> [...]

















